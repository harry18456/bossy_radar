# AI 建議：前端分析圖表規劃

> 更新日期：2026-02-03

## 現有圖表（YearlyStats.vue）

- EPS 趨勢圖（長條 + 折線混合）
- 非主管薪資趨勢（多折線圖）
- 員工分紅分配（長條圖）

---

## 建議新增的圖表

### 1. 違規分析（目前只有表格）

| 圖表類型 | 用途 | 優先級 |
|---------|------|--------|
| 違規次數年度趨勢 (Bar) | 顯示勞動/環保違規逐年變化 | 高 |
| 罰鍰金額累計圖 (Area) | 累計罰款金額趨勢 | 高 |
| 勞動 vs 環保違規對比 (Stacked Bar) | 兩類違規的比例 | 中 |
| 違規法條分佈 (Donut/Pie) | 常被開罰的法條類型 | 低 |

### 2. 追蹤清單比較（Watchlist 頁面）

| 圖表類型 | 用途 | 優先級 |
|---------|------|--------|
| 多公司薪資比較 (Grouped Bar) | 平均/中位數薪資並排比較 | 高 |
| 薪資 vs EPS 散佈圖 (Scatter) | 獲利與薪資的關聯性 | 中 |
| 多維度雷達圖 (Radar) | 薪資、EPS、違規數、員工人數等多維比較 | 中 |
| 排名圖 (Horizontal Bar) | 追蹤公司的薪資/違規排名 | 低 |

### 3. 產業分析

| 圖表類型 | 用途 | 優先級 |
|---------|------|--------|
| 產業薪資箱型圖 (Box Plot) | 顯示產業薪資分佈與離群值 | 中 |
| 產業違規熱力圖 (Heatmap) | 哪個產業最常違規 | 低 |
| 公司在產業中的位置 (Bullet Chart) | 相對於產業平均的表現 | 中 |

### 4. 趨勢與成長分析

| 圖表類型 | 用途 | 優先級 |
|---------|------|--------|
| 薪資成長率趨勢 (Line) | YoY 薪資變化百分比 | 高 |
| 員工人數變化 (Area) | 公司規模趨勢 | 低 |
| 每員工營收/薪資比 (Combo) | 生產力指標 | 低 |

### 5. 綜合儀表板（新頁面建議）

| 圖表類型 | 用途 | 優先級 |
|---------|------|--------|
| 警示指標卡 (KPI Cards) | 薪資低於 50 萬、EPS 上升但薪資下降等 | 高 |
| 全市場薪資分佈 (Histogram) | 所有公司的薪資分佈 | 中 |
| 違規排行榜 (Leaderboard) | Top 10 最多違規/最高罰款公司 | 高 |

---

## 技術選型建議

### 現有技術棧
- **chart.js** v4.5.1
- **vue-chartjs** v5.3.3

### 進階需求可考慮
- **ECharts** - 功能更豐富，適合熱力圖、箱型圖
- **D3.js** - 客製化程度最高
- **ApexCharts** - 互動性佳，API 友善

---

## 實作優先順序建議

### Phase 1（高優先級）
1. 違規次數年度趨勢圖
2. 罰鍰金額累計圖
3. 多公司薪資比較（Watchlist）
4. 薪資成長率趨勢
5. 警示指標卡
6. 違規排行榜

### Phase 2（中優先級）
1. 勞動 vs 環保違規對比
2. 薪資 vs EPS 散佈圖
3. 多維度雷達圖
4. 產業薪資箱型圖
5. 公司在產業中的位置
6. 全市場薪資分佈

### Phase 3（低優先級）
1. 違規法條分佈
2. 排名圖
3. 產業違規熱力圖
4. 員工人數變化
5. 每員工營收/薪資比

---

## 資料來源對應

| 圖表 | 資料來源 |
|------|----------|
| 違規相關 | `Violation`, `EnvironmentalViolation` |
| 薪資相關 | `NonManagerSalary`, `EmployeeBenefit` |
| 分紅相關 | `SalaryAdjustment` |
| 福利相關 | `WelfarePolicy` |
| 年度彙總 | `YearlySummaryItem` |
